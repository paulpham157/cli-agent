/* Enhanced chat panel, message, and input styles */

/* Main chat view panel - now takes 75% width on the right */
ChatViewPanel {
    width: 75%;
    border: solid $primary;
    border-title-color: $primary;
    border-title-style: bold;
    scrollbar-background: $surface;
    scrollbar-color: $primary;
    scrollbar-color-hover: $accent;
    overflow-y: auto;
    overflow-x: hidden;
}

/* Chat message container */
.message-container {
    margin: 0 0 1 0;
    padding: 0;
    width: 100%;
    max-width: 100%;
}

.message-container:hover {
    background: $surface-active;
}

/* Message wrapper */
.message-wrapper {
    padding: 1;
    width: 100%;
    max-width: 100%;
}

/* Message header */
.message-header {
    height: auto;
    margin: 0 0 1 0;
    align: left middle;
    width: 100%;
}

/* Message role indicators */
.message-role {
    text-style: bold;
    margin: 0 2 0 0;
    width: auto;
}

.message-role-user { 
    color: $primary; 
}

.message-role-assistant { 
    color: $success; 
}

.message-role-system { 
    color: $warning; 
}

/* Message timestamp */
.message-timestamp {
    color: $text-muted;
    text-style: italic;
    margin: 0 2 0 0;
    width: auto;
}

/* Message model indicator */
.message-model {
    color: $text-muted;
    text-style: italic;
}

/* Message content - improved responsive layout */
.message-content {
    margin: 0 0 0 0;
    padding: 1 2;
    background: $panel;
    border-left: thick $accent;
    width: 100%;
    max-width: 100%;
    scrollbar-size: 0 0;
}

.message-content-user {
    border-left: thick $primary;
    background: rgba(30, 144, 255, 0.1);
}

.message-content-assistant {
    border-left: thick $success;
    background: rgba(34, 197, 94, 0.1);
}

.message-content-system {
    border-left: thick $warning;
    background: rgba(251, 191, 36, 0.1);
    text-style: italic;
}

/* Markdown-specific styling - improved responsive behavior */
.message-content Markdown {
    background: transparent;
    padding: 0;
    width: 100%;
    max-width: 100%;
    scrollbar-size: 0 0;
}

/* Static text styling for better wrapping */
.message-content Static {
    width: 100%;
}

/* Code blocks in markdown */
.message-content Markdown BlockQuote {
    background: $surface;
    border-left: thick $accent;
    padding: 1;
    margin: 1 0;
}

.message-content Markdown CodeBlock {
    background: $background;
    border: solid $accent;
    padding: 1;
    margin: 1 0;
    scrollbar-color: $accent;
}

.message-content Markdown InlineCode {
    background: $surface;
    color: $accent;
    text-style: bold;
}

/* Lists in markdown */
.message-content Markdown ListItem {
    margin: 0 0 0 2;
}

/* Headers in markdown */
.message-content Markdown Heading {
    text-style: bold;
    color: $primary;
    margin: 1 0;
}

/* Message states */
.message-highlighted {
    background: $accent !important;
}

.message-user .message-wrapper {
    align: right top;
}

.message-assistant .message-wrapper {
    align: left top;
}

.message-system .message-wrapper {
    align: center top;
}

/* Streaming and thinking indicators */
.message-streaming { 
    border-left: thick $accent;
    text-style: bold;
}

.message-thinking {
    color: $warning;
    text-style: italic bold blink;
    text-align: center;
    background: $surface;
    border: dashed $warning;
    padding: 1;
    margin: 1;
}

/* Chat input styles */
.chat-input {
    width: 100%;
    height: 3;
    background: $surface;
    border: solid $primary;
    padding: 0 1;
    margin: 0 0 1 0;
    dock: bottom;
}

.chat-input:focus {
    border: solid $accent;
    background: $panel;
    border-title-color: $accent;
}

.chat-input:disabled {
    border: solid $primary 50%;
    background: $background;
    color: $text-muted;
}

.input-container {
    dock: bottom;
    height: 3;
    background: $surface;
    border-top: solid $primary;
    padding: 0;
}

/* Focus enhancement for input container */
.input-container:focus-within {
    border-top: solid $accent;
}
